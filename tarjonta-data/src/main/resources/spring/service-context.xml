<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:context="http://www.springframework.org/schema/context"
       xmlns:cxf="http://cxf.apache.org/core"
       xmlns:jaxws="http://cxf.apache.org/jaxws"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
       http://www.springframework.org/schema/context
        http://www.springframework.org/schema/context/spring-context.xsd
       http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd
       http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd">



    <context:property-placeholder
            location="classpath:tarjonta-data.properties, file:///${user.home:''}/oph-configuration/common.properties, file:///${user.home:''}/oph-configuration/tarjonta-data.properties"
            ignore-resource-not-found="true"/>
    <!-- Bean configuration for interceptor & callback for development-->
    <bean id="ticketInterceptor" class="fi.vm.sade.generic.ui.portlet.security.SecurityTicketOutInterceptor">
        <property name="callback" ref="callback" />
    </bean>

    <bean id="callback" class="fi.vm.sade.generic.ui.portlet.security.mock.MockTicketCallback">

    </bean>

    <!-- Configure CXF bus to contain ticketInterceptor -->
    <cxf:bus>
        <cxf:outInterceptors>
            <ref bean="ticketInterceptor" />
        </cxf:outInterceptors>
    </cxf:bus>

    <bean id="commonConstants" class="fi.vm.sade.tarjonta.data.util.CommonConstants">
        <constructor-arg index="0" value="${organisaatio.oid:NO_OID}"/>
        <constructor-arg index="1" value="${organisaatio.nimi:NO_NIMI}"/>
        <constructor-arg index="2" value="${base.uri:NO_URI}"/>
    </bean>

    <!--
    TODO: move attributes to properties
    -->
  
<!--    <bean id="authInterceptor" class="org.apache.cxf.ws.security.wss4j.WSS4JOutInterceptor">
        <constructor-arg>
            <map>
                <entry key="action" value="UsernameToken" />
                <entry key="passwordType" value="PasswordText" />
                <entry key="user" value="1.2.246.562.24.00000000002" />
                <entry key="mustUnderstand" value="false" /> 
                <entry key="passwordCallbackRef">
                    <bean id="passwdHandler" class="fi.vm.sade.tarjonta.data.util.AuthCallbackHandler">
                        <property name="password" value="1.2.246.562.24.00000000002"/>
                    </bean>
                </entry>
            </map>
        </constructor-arg>
    </bean>
  -->
    <!-- Configure CXF bus to contain ticketInterceptor  -->
<!--    <cxf:bus>
        <cxf:outInterceptors>
            <ref bean="authInterceptor" />
        </cxf:outInterceptors>
    </cxf:bus>-->

    <jaxws:client id="koodiService"
                  serviceClass="fi.vm.sade.koodisto.service.KoodiService"
                  address="${KoodiService.url:http://NO_KOODISTO_WEBSERVICE_URL_CONFIGURED}"/>
                  <!--address="http://localhost:9090/koodisto-service/koodiWS"/>-->

    <jaxws:client id="koodistoService"
                  serviceClass="fi.vm.sade.koodisto.service.KoodistoService"
                  address="${KoodistoService.url:http://NO_KOODISTO_WEBSERVICE_URL_CONFIGURED}"/>
               <!--   address="http://localhost:9090/koodisto-service/koodistoWS"/>-->
    
    <jaxws:client id="koodiAdminService"
                  serviceClass="fi.vm.sade.koodisto.service.KoodiAdminService"
                  address="${KoodiAdminService.url:http://NO_KOODISTO_WEBSERVICE_URL_CONFIGURED}" />
               <!--   address="http://localhost:9090/koodisto-service/koodiAdminWS"/>-->

    <jaxws:client id="koodistoAdminService"
                  serviceClass="fi.vm.sade.koodisto.service.KoodistoAdminService"
                  address="${KoodistoAdminService.url:http://NO_KOODISTO_WEBSERVICE_URL_CONFIGURED}" />
         <!--         address="http://localhost:9090/koodisto-service/koodistoAdminWS"/>-->

    <jaxws:client id="oidService"
                  serviceClass="fi.vm.sade.oid.service.OIDService"
                  address="${oid.webservice.url:http://NO_OID_WEBSERVICE_URL_CONFIGURED}"/>

</beans>