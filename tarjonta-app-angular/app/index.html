<!doctype html>
<html lang="fi">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="Tarjonta">
        <meta name="author" content="Opetushallitus">
        <title>Tarjonta</title>
        <script>
            if (!(window.console && console.log)) {
                console = {
                    log: function() {
                    },
                    debug: function() {
                    },
                    info: function() {
                    },
                    warn: function() {
                    },
                    error: function() {
                    }
                };
            }
        </script>

        <script src="lib/jquery-1.10.2.min.js"></script>
        <script src="lib/jquery-ui.min.js"></script>

        <!--
          Environment configuration file(s):
          Do not add angular application data to 'ext/*' (or 'ext/js/*' etc.)
          data in the directory will be overridden by tarjontaapp service filter.
        -->
        <script src="ext/js/env-configuration.js"></script>
        <!--
        Application configuration file(s):
        -->
        <script src="js/app-configuration.js"></script>
        <!--
         Developer configuration file(s):
        -->
        <script src="dev/dev-configuration.js"></script>

        <!--
        Angular, see version.txt for version.
        -->
        <script src="lib/angular/angular.js"></script>
        <script src="lib/angular/angular-resource.js"></script>
        <script src="lib/angular/angular-route.js"></script>
        <script src="lib/angular/angular-sanitize.js"></script>
        <script src="lib/angular/angular-animate.js"></script>

        <script src="lib/ngGrid/ng-grid-2.0.7.debug.js"></script>
        <script src="lib/moment-with-langs.min.js"></script>
        <script src="lib/bootstrap-datetimepicker.min.js"></script>
        <script src="lib/bootstrap-datetimepicker.fi.js"></script>
        <script src="lib/bootstrap-datetimepicker.sv.js"></script>
        <script src="lib/underscore/underscore.js"></script>
        <script src="lib/tinymce/tinymce.min.js"></script>
        <script src="lib/ui-angular-tinymce.js"></script>
        <script src="lib/imageupload.js"></script>
        <script src="lib/buckets-minified.js"></script>
        <script src="lib/treeview/angular.treeview.js"></script>

        <script src="js/shared/auth.js"></script>
        <script src="js/shared/permissions.js"></script>
        <script src="js/shared/cache.js"></script>
        <script src="js/shared/koodisto.js"></script>
        <script src="js/shared/organisaatio.js"></script>
        <script src="js/shared/tarjonta.js"></script>
        <script src="js/shared/yhteyshenkilo.js"></script>
        <script src="js/shared/kuvaukset.js"></script>
        <script src="js/shared/debounce.js"></script>

        <script src="js/shared/loading.js"></script>
        <script src="js/shared/localisation.js"></script>
        <script src="js/shared/config.js"></script>
        <script src="js/shared/haku.js"></script>
        <script src="js/shared/hakukohde.js"></script>

        <script src="js/shared/sharedStateService.js"></script>
        <script src="js/shared/CommonUtilService.js"></script>

        <script src="js/shared/directives/koodistoNimiCombo.js"></script>
        <script src="js/shared/directives/koodistoArvoCombo.js"></script>
        <script src="js/shared/directives/koodistoMultiSelect.js"></script>
        <script src="js/shared/directives/common.js"></script>
        <script src="js/shared/directives/datetimepicker.js"></script>
        <script src="js/shared/directives/koodistoTypeAhead.js"></script>
        <script src="js/shared/directives/org-puu.js"></script>
        <script src="js/shared/directives/bindonce.js"></script>
        <script src="js/shared/directives/multiSelect.js"></script>
        <script src="js/shared/directives/mkTextfield.js"></script>
        <script src="js/shared/directives/richTextarea.js"></script>
        <script src="js/shared/directives/mkRichTextarea.js"></script>
        <script src="js/shared/directives/imageField.js"></script>
        <script src="js/shared/directives/controlsLayout.js"></script>
        <script src="js/shared/directives/treeField.js"></script>
        <script src="js/shared/directives/showErrors.js"></script>
        <script src="js/shared/directives/dateTime.js"></script>
        <script src="js/shared/directives/zippy.js"></script>

        <script src="js/shared/filters/orderByNum.js"></script>
        <script src="js/shared/filters/dateFormat.js"></script>
        <script src="js/shared/filters/startsWith.js"></script>

        <script src="partials/controllers.js"></script>
        <script src="partials/directives.js"></script>
        <script src="partials/filters.js"></script>
        <script src="partials/services.js"></script>

        <script src="partials/search/results-table.js"></script>
        <script src="partials/search/controllers.js"></script>

        <!--
          KÄYTETÄÄNKÖ NÄITÄ VIELÄ JOSSAIN?
        -->
        <script src="partials/kk/directives.js"></script>
        <script src="partials/kk/filters.js"></script>
        <script src="partials/kk/services.js"></script>

        <script src="partials/valintaperustekuvaus/edit/ValintaperusteKuvausEditController.js"></script>
        <script src="partials/valintaperustekuvaus/search/valintaperustesearchcontroller.js"></script>
        <script src="partials/hakukohde/edit/hakukohdeControllers.js"></script>
        <script src="partials/hakukohde/edit/valintakokeetController.js"></script>
        <script src="partials/hakukohde/edit/liitteetListCtrl.js"></script>
        <script src="partials/hakukohde/review/hakukohdeReviewController.js"></script>

        <script src="partials/koulutus/koulutusController.js"></script>
        <script src="partials/koulutus/luo-koulutus-dialogi.js"></script>
        <script src="partials/koulutus/sisaltyvyys/liita-sisaltyvyys-ctrl.js"></script>
        <script src="partials/koulutus/sisaltyvyys/poista-sisaltyvyys-ctrl.js"></script>

        <script src="partials/koulutus/edit/editControllers.js"></script>
        <script src="partials/koulutus/edit/selectTutkintoControllers.js"></script>
        <script src="partials/koulutus/edit/editYhteyshenkiloController.js"></script>
        <script src="partials/koulutus/edit/aiheet-teemat.js"></script>
        <script src="partials/koulutus/edit/koulutusConverter.js"></script>

        <script src="partials/koulutus/edit/alkamispaiva-ja-kausi.js"></script>

        <script src="partials/koulutus/review/reviewControllers.js"></script>

        <script src="partials/hakukohde/hakukohdeController.js"></script>

        <script src="partials/haku/hakuControllers.js"></script>
        <script src="partials/haku/list/hakuListControllers.js"></script>
        <script src="partials/haku/edit/hakuEditControllers.js"></script>
        <script src="partials/haku/review/hakuReviewControllers.js"></script>

        <script src="lib/ui-bootstrap-tpls-0.9.0.js"></script>

        <script src="partials/common/dialogService.js"></script>

        <script src="partials/tarjontaApp.js"></script>
        <script src="partials/init.js"></script>

        <!-- TYYLIT - huomaa järjestys kun lisäilet -->
        <!-- 1. bootstrap pohjalle -->
        <link href="lib/bootstrap-combined.min.css" rel="stylesheet">

        <!-- 2. erillisten komponenttien omat tyylit -->
        <link href="js/shared/directives/zippy.css" rel="stylesheet">
        <link href="lib/ngGrid/ng-grid.min.css" rel="stylesheet">
        <link href="css/tree.css" rel="stylesheet"/>
        <link href="css/datetimepicker.css" rel="stylesheet"/>
        <link href="lib/treeview/css/angular.treeview.css" rel="stylesheet"/>

        <!-- 3. virkailija-teema -->
        <link href="css/virkailija.css" rel="stylesheet"/>

        <!-- 4. omat määritykset ja toiminnaliset tyylit -->
        <link href="css/app.css" rel="stylesheet"/>
        <link href="css/multiselect.css" rel="stylesheet"/>
        <link href="css/mktextfield.css" rel="stylesheet"/>
        <link href="css/richTextarea.css" rel="stylesheet"/>
        <link href="css/mkRichTextarea.css" rel="stylesheet"/>
        <link href="css/tarjontaform.css" rel="stylesheet"/>
        <link href="css/dateTime.css" rel="stylesheet"/>

        <script type="text/javascript" src="/virkailija-raamit/apply-raamit.js"></script>
    </head>

    <body data-ng-controller="AppRoutingCtrl">

        <!-- kaikki tarjonta-roina tämän sisään!! -->
        <div id="tarjonta-body" class="ng-cloak">
            <div data-ng-controller="LocalisationCtrl">

                <div data-ng-switch on="renderPath[0]">
                    <div data-ng-switch-when="error">
                        <div data-ng-include="'partials/error.html'"></div>
                    </div>
                    <div data-ng-switch-when="home">
                        <div data-ng-include="'partials/search/search.html'"></div>
                    </div>
                    <div data-ng-switch-when="kk">
                        <div data-ng-switch on="renderPath[1]">
                            <div data-ng-switch-when="edit">
                                <div data-ng-include="'partials/kk/edit/edit.html'" data-ng-controller="KKEditController"></div>
                            </div>
                            <div data-ng-switch-when="review">
                                <div data-ng-include="'partials/kk/review/review.html'" data-ng-controller="KKReviewController"></div>
                            </div>
                        </div><!-- /renderPath[1] -->
                    </div><!-- 0:/kk -->

                    <div data-ng-switch-when="koulutus">
                        <div data-ng-switch on="renderPath[1]" data-ng-controller="KoulutusRoutingController">
                            <div data-ng-switch-when="review">
                                <div data-ng-include="'partials/koulutus/review/review.html'"></div>
                            </div>
                            <div data-ng-switch-when="edit">
                                <div data-ng-include="'partials/koulutus/edit/edit.html'"></div>
                            </div>
                            <div data-ng-switch-default>
                                UNKNOWN ACTION! {{ renderPath | json }}
                            </div>
                        </div>
                    </div><!-- 0:/koulutus -->

                    <div data-ng-switch-when="hakukohde">
                        <div data-ng-switch on="renderPath[1]" data-ng-controller="HakukohdeRoutingController">
                            <div data-ng-switch-when="review">
                                <div data-ng-include="'partials/hakukohde/review/review.html'"></div>
                            </div>
                            <div data-ng-switch-when="edit">
                                <div data-ng-include="'partials/hakukohde/edit/edit.html'"></div>
                            </div>
                            <div data-ng-switch-default>
                                UNKNOWN ACTION! {{ renderPath | json }}
                            </div>
                        </div>
                    </div><!-- 0:/hakukohde -->

                    <div data-ng-switch-when="haku">
                        <div data-ng-switch on="renderPath[1]" data-ng-controller="HakuRoutingController">
                            <div data-ng-switch-when="list">
                                <div data-ng-include="'partials/haku/list/list.html'"></div>
                            </div>
                            <div data-ng-switch-when="review">
                                <div data-ng-include="'partials/haku/review/review.html'"></div>
                            </div>
                            <div data-ng-switch-when="edit">
                                <div data-ng-include="'partials/haku/edit/edit.html'"></div>
                            </div>
                            <div data-ng-switch-default>
                                UNKNOWN ACTION! {{ renderPath | json }}
                            </div>
                        </div>
                    </div><!-- 0:/haku -->

                    <div data-ng-switch-when="valintaPerusteKuvaus">
                        <div data-ng-switch on="renderPath[1]" data-ng-controller="ValintaperusteEditController">
                            <div data-ng-switch-when="edit">
                                <div data-ng-include="'partials/valintaperustekuvaus/edit/valintaperustekuvaus.html'"></div>
                            </div>
                            <div data-ng-switch-when="search">
                                <div data-ng-include="'partials/valintaperustekuvaus/search/valintaperustesearch.html'"></div>
                            </div>
                            <div data-ng-switch-default>
                                UNKNOWN ACTION! {{ renderPath | json }}
                            </div>
                        </div>
                    </div>

                    <div data-ng-switch-when="koodistoTest">
                        <div data-ng-include="'partials/koodistoTest.html'" data-ng-controller="KoodistoTestController"></div>
                    </div>
                </div><!-- /renderPath[0] -->

                <!--
                                <div class="wsidebar-main">
                                    <hr>
                                    Footer, route counter = {{count}}<br>
                                    <a href="#/etusivu">Etusivulle</a>
                                    <a href="/lokalisointi">Käännösten hallinta</a>

                                    <div>
                                        <span data-ng-click="showTheSheisse = !showTheSheisse"
                                              class="collapseHeader"
                                              data-ng-class="{isOpen : showTheSheisse}">Näytä Config</span>
                                        <div collapse="!showTheSheisse">
                                            <pre>
                                        {{ CONFIG | json }}
                                            </pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                -->

            </div>
        </div>

        <div data-ng-controller="LoadingCtrl" id="ajax-loader" class="pre-init max" data-ng-show="loading"
	             ng-class="{{isModal() ? 'max' : 'min'}}">
           <div class="frame">
               <img class="spinner" alt="{{ t('loading')}}" src="img/ajax-loader-big.gif" />
               <span class="post-init spinner-msg" tt="loading" ng-show="isTimeout(false)"></span>
               <div class="post-init timeout" ng-show="isTimeout(true)">
                    <p tt="loading.timeout">Taustapalvelin vastaa pyyntöihin epätavallisen hitaasti, joka voi johtua joko toimintahäiriöstä
                    tai järjestelmän väliaikaisesta kuormituksesta.</p>
                    
                    <a href bg-click="restart()" class="btn float-right">
                    <span tt="tarjonta.tekninenvirhe.restart"></span> <img src="img/icon16-refresh.png"/>
                   </a>
               </div>
           </div>
           <div class="fail">
               <h1>Tarjonta on rikki - bruten - broken !!1</h1>
               <hr/>
               
               <p>Tarjonta on siis rikki, palvelimet alhaalla tai jotain. Tähän ohje kenelle pitää valittaa ja/tai
               kehotus kokeilla hetken päästä uudelleen jne.. Ks. KJOH-728</p>
               
               <p>Samma på svenska.</p>
               
               <p>Same in English.</p>
              
               <hr/>
               <a href onclick="location.reload()" class="btn"> <img src="img/icon16-refresh.png"/> </a>
           
           </div>
        </div>

        <script> tarjontaInit(); </script>
    </body>
</html>
