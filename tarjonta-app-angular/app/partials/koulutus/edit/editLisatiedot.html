<form name="lisatiedotForm">
<table class="tarjontaForm">

	<!-- ammattinimikkeet -->
	<tr class="info">
		<th tt="koulutus.edit.ammattinimikkeet.title"/>
		<td>
			<multi-select
			 	model="uiModel.ammattinimikkeet.data"
			 	selection="uiModel.ammattinimikkeet.uris"
                                promise="uiModel.ammattinimikkeet.promise"
			 	display="dualpane"/>
		</td>
		<td></td>
	</tr>
	
</table>

<div ng-show="uiModel.opetuskielis.uris.length==0">(TODO i18n valitse ainakin yksi opetuskieli tähän..?)</div>

<tabset>
	<tab ng-repeat="kieliUri in uiModel.opetuskielis.uris" heading="{{kieliFromKoodi(kieliUri)}}">
	
		<div ng-repeat="lisatieto in lisatiedot" ng-show="lisatieto.type != 'MAKSULLISUUS' || model.opintojenMaksullisuus">
			
			<h4>{{t('koulutus.edit.'+lisatieto.type+'.title')}}</h4>			
			<p>{{t('koulutus.edit.'+lisatieto.type+'.help')}}</p>
			
			<rich-textarea max="1500" model="getKuvausApiModelLanguageUri(model.kuvausKomo, lisatieto.type, kieliUri).arvo"></rich-textarea>
			
			<!--
			<textarea ui-tinymce ng-model="getKuvausApiModelLanguageUri(model.isKomo, lisatieto, kieliUri).arvo"> </textarea>
			<h4>{{t('koulutus.edit.'+lisatieto.type +'.title')}}</h4>			
			<p>{{t('koulutus.edit.'+lisatieto.type +'.help')}}</p>
			<textarea ui-tinymce ng-model="getKuvausApiModelLanguageUri(lisatieto.isKomo, lisatieto.type, kieliUri).arvo"> </textarea>
			<br/>
			
			 -->
			
		</div>

		<h4 tt="koulutus.edit.kuva.title"></h4>

            <image-field oid="{{model.oid}}" uri="{{kieliUri}}"></image-field>

            <input id="inputImage" 
                 type="file" 
                 accept="image/*" 
                   image="image" 
                 resize-max-height="300"
                 resize-max-width="250"
                 resize-quality="0.9" />
            <button type="submit" ng-click="uploadImage($event, kieliUri, image)">{{t('koulutus.edit.lataaKuva')}}</button>
		
            <img ng-show="image" ng-src="{{image.resized.dataURL}}"/></td>
	</tab>
</tabset>
</form>
