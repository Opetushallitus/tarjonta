<div id="editKoulutus" ng-controller="BaseEditController"  ng-init="getKoulutusPartialName('edit')">

    <controls-layout>
        
        <controls-button tt="koulutus.edit.takaisin" action="goBack($event)"></controls-button>
        <controls-button tt="koulutus.edit.tallenna.luonnos" action="saveLuonnos($event)" primary="true"></controls-button>
        <controls-button tt="koulutus.edit.tallenna.valmis" action="saveValmis($event)" primary="true"></controls-button>
        <controls-button tt="koulutus.edit.tallenna.jatka" action="goToReview($event)" disabled="koulutusForm.$invalid"></controls-button>
        
        <!-- TODO muokatessa vaihtoehtoinen teksti "olet muokkaamassa... " tjsp. -->
        <controls-notify type="message" tt="{{'koulutus.edit.header.'+model.koulutusasteTyyppi}}" tp="[ model.organisaatio.nimi ]"></controls-notify>
        
        <controls-notify type="success" tt="tarjonta.tallennus.ok" show="uiModel.showSuccess"></controls-notify>
        <controls-notify type="error" tt="tarjonta.tallennus.virhe" show="uiModel.showError"></controls-notify>

        <controls-notify ng-repeat="e in model.validationmsgs" type="error-detail" tt="e" show="uiModel.showError"></controls-notify>

    </controls-layout>
	
	<!-- TODO muokatessa joku muu teksti kuin "uusi koulutus" -->
	<h3>{{t('koulutus.edit.header.title')}}</h3>

    <form name="koulutusForm">
        <div class="body" ng-include="resultPageUri"></div>
    </form>

    <hr/>

    <controls-layout>
        
        <controls-button tt="koulutus.edit.takaisin" action="goBack($event)"></controls-button>
        <controls-button tt="koulutus.edit.tallenna.luonnos" action="saveLuonnos($event)" primary="true"></controls-button>
        <controls-button tt="koulutus.edit.tallenna.valmis" action="saveValmis($event)" primary="true"></controls-button>
        <controls-button tt="koulutus.edit.tallenna.jatka" action="goToReview($event)" disabled="koulutusForm.$invalid"></controls-button>

        <controls-notify type="success" tt="tarjonta.tallennus.ok" show="uiModel.showSuccess"></controls-notify>
        <controls-notify type="error" tt="tarjonta.tallennus.virhe" show="uiModel.showError"></controls-notify>

        <controls-notify ng-repeat="e in model.validationmsgs" type="error-detail" tt="e" show="uiModel.showError"></controls-notify>

    </controls-layout>

</div>
