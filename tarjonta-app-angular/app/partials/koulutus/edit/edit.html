<div id="editKoulutus" ng-controller="BaseEditController"  ng-init="getKoulutusPartialName('edit')">
    <controls-model
        model="formControls"
        tt-create="koulutus.edit.header.title"
        title="model.koulutusohjelma.tekstis"
        dto="model">
        
        <controls-button icon="arrow-left" tt="koulutus.edit.takaisin" action="goBack($event)"></controls-button>
        <controls-button tt="koulutus.edit.tallenna.luonnos" action="saveLuonnos($event)" primary="true"></controls-button>
        <controls-button tt="koulutus.edit.tallenna.valmis" action="saveValmis($event)" primary="true"></controls-button>
        <controls-button icon="arrow-right" tt="koulutus.edit.tallenna.jatka" action="goToReview($event, koulutusForm.$invalid)" disabled="koulutusForm.$invalid"></controls-button>
        
        <!-- TODO muokatessa vaihtoehtoinen teksti "olet muokkaamassa... " tjsp. -->
        <controls-notify type="message" tt="'koulutus.edit.header.'+model.koulutusasteTyyppi" tp="[ model.organisaatio.nimi ]"></controls-notify>
        
        <controls-notify type="success" tt="'tarjonta.tallennus.ok'" show="uiModel.showSuccess"></controls-notify>
        <controls-notify type="error" tt="'tarjonta.tallennus.virhe'" show="uiModel.showError"></controls-notify>

        
        <controls-notify type="error-detail" tt="'tarjonta.tallennus.virhe.invalid'" show="uiModel.showError && koulutusForm.$invalid"></controls-notify>
        <controls-notify ng-repeat="e in uiModel.validationmsgs" type="error-detail" tt="e" show="uiModel.showError"></controls-notify>

    </controls-model>
    
    <display-controls model="formControls" display="header"></display-controls>

    <form name="koulutusForm">
        <div class="body" ng-include="resultPageUri"></div>
    </form>

    <display-controls model="formControls" display="footer"></display-controls>

</div>
