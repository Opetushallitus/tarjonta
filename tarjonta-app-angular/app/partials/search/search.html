<div class="wsidebar-left sidebar-nav well">

    <div id="orgSearch">
        <form ng-submit="submitOrg()">
            <input name="tekstihaku" ng-model="hakuehdot.searchStr" type="text"
                   value="" name="searchString" class="text search"
                   placeholder="{{ t('organisaatiohaku.tekstihaku.placeholder') }}">

            <select ng-model="hakuehdot.organisaatiotyyppi"
                    ng-options="organisaatiotyyppi.koodi as organisaatiotyyppi.nimi for organisaatiotyyppi in organisaatiotyypit">
                <option value="">{{t("organisaatiohaku.organisaatiotyypit.prompt")}}</option>
            </select>

            <koodistocombo prompt="t('organisaatiohaku.oppilaitostyypit.prompt')" koodistouri="'oppilaitostyyppi'" locale="'FI'" koodiuri="hakuehdot.oppilaitostyyppi"></koodistocombo>

            <input ng-model="hakuehdot.lakkautetut" type="checkbox" name="includePassive" id="passiiviset" value="true">
            <label for="passiiviset">{{t("organisaatiohaku.label.nayta.myos.lakkautetut") }}</label><br/><br/>

            <input ng-model="hakuehdot.suunnitellut" type="checkbox" name="includePlanned" id="suunnitellut" value="true">
            <label for="suunnitellut">{{t("organisaatiohaku.label.nayta.myos.suunnitellut")}}</label><br/><br/>

            <div class="buttons">
                <div class="btn btn-primary" ng-click="resetOrg()"><div tt="organisaatiohaku.button.tyhjenna"></div></div>
                <div class="btn btn-primary" ng-click="submitOrg()"><div tt="organisaatiohaku.button.hae"></div></div>
            </div>
        </form>
    </div>

    <div id="orgSearchResults" data-angular-treeview="true"
         data-tree-id="organisaatio"
         data-tree-model="tulos"
         data-node-id="oid"
         data-node-label="nimi"
         data-node-children="children" >
    </div>

</div>

<div class="wsidebar-main">

    <div id="searchSpec">

        <div class="title">
            <span>{{selectedOrgName}}</span>
            <a href="" ng-click="clearOrg()">[{{t('tarjonta.haku.poistaOrgValinta')}}]</a>
        </div>

        <table class="spec">
            <!-- otsikkorivi -->
            <tr>
                <th>{{t('tarjonta.haku.tila')}}</th>
                <th>{{t('tarjonta.haku.alkamisVuosi')}}</th>
                <th>{{t('tarjonta.haku.alkamisKausi')}}</th>
                <th colspan="2">&nbsp;</th>
            </tr>
            <!-- kontrollit -->
            <tr>
                <td class="state">
                    <select ng-model="spec.state" ng-options="s as t for (s,t) in states"/>
                </td>
                <td class="year">
                    <select ng-model="spec.year" ng-options="s as t for (s,t) in years"/>
                </td>
                <td class="season">
                    <select ng-model="spec.season" ng-options="s as t for (s,t) in seasons"/>
                </td>
                <td class="controls">
                    <input class="btn" type="button" value="{{t('tarjonta.haku.tyhjenna')}}" ng-click="reset()"/>
                    <input class="btn btn-primary" type="button" value="{{t('tarjonta.haku.hae')}}" ng-click="search()"/>
                </td>
                <td class="controls">
                    <input class="btn" type="button" value="{{t('tarjonta.haku.tulosta_raportti')}}" ng-click="report()" disabled="true"/>
                </td>

            </tr>
        </table>

        <div class="search">
            <input type="text" ng-model="spec.terms" ng-enter="search()"/>
        </div>

    </div>

	<div id="searchResults" ng-cloak>
    <tabset>
        <tab heading="{{t('tarjonta.hakutulos.koulutukset')}}{{koulutusResultCount}}">
        
        	<div>
        		<input class="btn" type="button" value="{{t('tarjonta.toiminnot.siirra_tai_kopioi')}}" disabled="{{!canMoveOrCopy()}}"/>
        		<input class="btn" type="button" value="{{t('tarjonta.toiminnot.luo_uusi_hakukohde')}}" disabled="{{!canCreateHakukohde()}}"/>
        		<input class="btn float-right" type="button" value="{{t('tarjonta.toiminnot.luo_uusi_koulutus')}}" disabled="{{!canCreateKoulutus()}}"/>
        	</div>
        
        	<input type="checkbox" class="selectAll"/>
        	<label>{{t('tarjonta.toiminnot.valitse_kaikki')}}</label>
        	
        	<table id="koulutuksetResults"><!-- jquery --></table>
        
        </tab>
        <tab heading="{{t('tarjonta.hakutulos.hakukohteet')}}{{hakukohdeResultCount}}">
        
	        <input type="checkbox" class="selectAll"/>
        	<label>{{t('tarjonta.toiminnot.valitse_kaikki')}}</label>

        	<table id="hakukohteetResults"><!-- jquery --></table>

        </tab>

    </tabset>
    </div>

    <a href="#/kk/review/12345/xxx">REVIEW?</a>
    <a href="#/kk/edit/12345/xxx">EDIT?</a>
    
    <div ng-controller="TutkintoOhjelmaSelectOpenerCtrl">

        <button class="btn" ng-click="open()">Avaa dialogi</button>
        <div ng-show="model.selected">Valittu tutkinto: {{model.selected.koodiNimi}}</div>
    
    </div>

</div>

