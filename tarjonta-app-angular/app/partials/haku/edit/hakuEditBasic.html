<table class="tarjontaForm">

    <tr class="required">
        <th ttt='haku.edit.hakutapa'>Hakutapa</th>
        <td>
            <div koodistocombo koodistouri="'hakutapa'" locale="getLocale()" koodiuri="model.hakux.result.hakutapaUri" version="true" isrequired="true" name="hakutapa"></div>
        </td>
        <td>
            <div show-errors form="hakuForm" field="hakutapa" tt-prefix="haku.edit" ></div>
        </td>
    </tr>

    <tr class="required">
        <th ttt='haku.edit.hakutyyppi'>Hakutyyppi</th>
        <td>
            <div koodistocombo koodistouri="'hakutyyppi'" locale="getLocale()" koodiuri="model.hakux.result.hakutyyppiUri" version="true" isrequired="true" name="hakuTyyppi"></div>
        </td>
        <td>
            <div show-errors form="hakuForm" field="hakuTyyppi" tt-prefix="haku.edit" ></div>
        </td>
    </tr>

    <tr class="required">
        <th ttt='haku.edit.hakukausi'>Hakukausi ja vuosi</th>
        <td>
            <div koodistocombo koodistouri="'kausi'" locale="getLocale()" koodiuri="model.hakux.result.hakukausiUri" version="true" isrequired="true" name="hakuKausi"></div>
            <input type="number" placeholder="vuosi" ng-model="model.hakux.result.hakukausiVuosi" required name="hakuVuosi">
        </td>
        <td>
            <div>
                <div show-errors form="hakuForm" field="hakuKausi" tt-prefix="haku.edit" ></div>
                <div show-errors form="hakuForm" field="hakuVuosi" tt-prefix="haku.edit" ></div>
            </div>
        </td>
    </tr>

    <tr class="required">
        <th ttt='haku.edit.koulutuksenAlkamiskausi'>Koulutuksen alkamiskausi</th>
        <td>
            <div koodistocombo koodistouri="'kausi'" locale="getLocale()" koodiuri="model.hakux.result.koulutuksenAlkamiskausiUri" version="true" isrequired="true" name="alkamisKausi"></div>
            <input type="number" placeholder="vuosi" ng-model="model.hakux.result.koulutuksenAlkamisVuosi" required name="alkamisVuosi">
        </td>
        <td>
            <div>
                <div show-errors form="hakuForm" field="alkamisVuosi" tt-prefix="haku.edit" ></div>
                <div show-errors form="hakuForm" field="alkamisKausi" tt-prefix="haku.edit" ></div>
            </div>
        </td>
    </tr>

    <tr class="required">
        <th ttt='haku.edit.haunKohdejoukko'>Haun kohdejoukko</th>
        <td>
            <div koodistocombo koodistouri="'haunkohdejoukko'" locale="getLocale()" koodiuri="model.hakux.result.kohdejoukkoUri" version="true" isrequired="true" name="haunKohdejoukko"></div>
        </td>
        <td>
            <div show-errors form="hakuForm" field="haunKohdejoukko" tt-prefix="haku.edit" ></div>
        </td>
    </tr>

    <tr class="required">
        <th ttt='haku.edit.haunNimi'>Haun nimi</th>
        <td>
            <div mk-textfield model="model.hakux.result.nimi" required="true" name="haunNimi"></div>
            <p class="help-block" ttt="haku.edit.haunNimi.help">help</p>
        </td>
        <td>
            <div show-errors form="hakuForm" field="haunNimi" tt-prefix="haku.edit" field-check="false" custom-check="checkHaunNimiValidity()"></div>
        </td>
    </tr>

    <tr>
        <th ttt='haku.edit.haunTunniste'>Haun tunniste</th>
        <td>
            <strong>{{ model.hakux.result.oid}}</strong>
        </td>
        <td>
        </td>
    </tr>

    <tr class="required">
        <th ttt='haku.edit.hakuaika'>Hakuaika</th>
        <td colspan="2">
            <div ng-repeat="hakuaika in model.hakux.result.hakuaikas">
                <input type="text" placeholder="Hakuajan nimi" ng-model="hakuaika.nimi">
                <t-date-time type="long" name="alkuPvm" timestamp="true" ng-model="hakuaika.alkuPvm" required ng-change="onDateChanged(hakuaika)"></t-date-time>
                <t-date-time type="long" name="loppuPvm" timestamp="true" ng-model="hakuaika.loppuPvm" required ng-change="onDateChanged(hakuaika)"></t-date-time>

                <div class="btn"><i class="icon-minus" ng-click="doRemoveHakuaika(hakuaika, $index)"></i> Poista </div>
            </div>
            <div class="btn" ng-click="doAddNewHakuaika()"><i class="icon-plus"></i> Lisää uusi hakuaika </div>

            <p class="help-block" ttt="haku.edit.hakuaika.help">help</p>
        </td>
        <!-- TODO check for errors here! -->
    </tr>

    <tr class="required">
        <th ttt='haku.edit.sijoittelu'>Sijoittelu</th>
        <td>
            <input type="checkbox" ng-model="model.hakux.result.sijoittelu"> <span ttt="haku.edit.kaytetaanSijoittelua">Haussa käytetään sijoittelua</span>
        </td>
        <td>
        </td>
    </tr>

    <tr class="required">
        <th ttt='haku.edit.hakulomake'>Hakulomake</th>
        <td>
            <input type="checkbox" ng-model="model.haku.hakulomakeKaytaJarjestemlmanOmaa">
            <span ttt="haku.edit.hakulomake.kaytaJarjestelmanOmaa">Käytetään järjestelmän omaa hakulomaketta</span>

            <p ng-show="!model.haku.hakulomakeKaytaJarjestemlmanOmaa" class="animate-hide">
                <span ttt="haku.edit.hakulomake.kaytaMuuta">Käytetään muuta hakulomaketta, mitä:</span>
                <input type="url" ng-model="model.hakux.result.hakulomakeUri"
                       placeholder="http://haku.lomake.uri.com" name="hakulomakeUrl" ng-required="!model.haku.hakulomakeKaytaJarjestemlmanOmaa">
            </p>
            <p ng-show="model.haku.hakulomakeKaytaJarjestemlmanOmaa" class="animate-hide">
                <span ttt="haku.edit.maxHakukohdes.label">Hakukohteiden enimmäismäärä:</span>
                <input type="number" ng-model="model.hakux.result.maxHakukohdes" name="maxHakukohdes" ng-required="model.haku.hakulomakeKaytaJarjestemlmanOmaa">
            </p>

        </td>
        <td>
            <div>
                <div show-errors form="hakuForm" field="hakulomakeUrl" tt-prefix="haku.edit"
                     field-check="!model.haku.hakulomakeKaytaJarjestemlmanOmaa"></div>
                <div show-errors form="hakuForm" field="maxHakukohdes" tt-prefix="haku.edit" ></div>
            </div>
        </td>
    </tr>
</table>
