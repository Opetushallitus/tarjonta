<div data-ng-controller="HakuListController">

    <div class="container-fluid">
        <div class="float-left">
            <input type="text" placeholder="{{t('haku.list.hakuehto')}}" class="input search-query" ng-model="searchParams.HAKUSANA" ng-enter="doSearch()">
        </div>
        <div class="float-right">
            <div class="float-left">
                <div tt="haku.list.tila">Haun tila</div>
                <select ng-model="searchParams.TILA" ng-options="s as t for (s,t) in states" >
                    <option value="" tt="haku.list.hakuehto.tila"/></option>
                </select>
            </div>

            <div class="float-left">
                <div tt="haku.list.haunAlkamiskausiJaVuosi">Haun alkamiskausi</div>
                <select ng-model="searchParams.HAKUVUOSIKAUSI" ng-options="vk.label for vk in vuosikausi" >
                    <option value="" tt="haku.list.hakuehto.hakukausivuosi"></option>
                </select>
            </div>

            <div class="float-left">
                <div tt="haku.list.koulutuksenAlkamiskausiJaVuosi">Koulutuksen alkamiskausi</div>
                <select ng-model="searchParams.KOULUTUKSEN_ALKAMISVUOSIKAUSI" ng-options="vk.label for vk in vuosikausi" >
                    <option value="" tt="haku.list.hakuehto.koulutuksenkausivuosi"></option>
                </select>
            </div>

            <div class="float-left">
                <div tt="haku.list.hakutapa">Hakutapa</div>
                <div koodistocombo prompt="t('haku.list.hakutapa.kaikki')" koodistouri="'hakutapa'" koodiuri="searchParams.HAKUTAPA" version="true"></div>
            </div>

            <div class="float-left">
                <div tt="haku.list.hakutyyppi">Hakutyyppi</div>
                <div koodistocombo prompt="t('haku.list.hakutyyppi.kaikki')" koodistouri="'hakutyyppi'" koodiuri="searchParams.HAKUTYYPPI" version="true"></div>
            </div>

            <div class="float-left">
                <div tt="haku.list.haunKohdejoukko">Haun kohdejoukko</div>
                <div koodistocombo prompt="t('haku.list.haunkohdejoukko.kaikki')" koodistouri="'haunkohdejoukko'" koodiuri="searchParams.KOHDEJOUKKO" version="true"></div>
            </div>

            <div class="float-left">
                <div>Uusi hakuehto</div>
                <select>
                    <option value="">-- Kaikki --</option>
                </select>
            </div>

            <div class="btn float-left" ng-click="clearSearch()" tt="haku.list.tyhjenna">Tyhjenn√§</div>

            <div class="btn float-left" ng-click="doSearch()" tt="haku.list.hae">Hae</div>

        </div>
    </div>

    <tabset>
        <tab heading="{{t('haku.list.hakuvastaus.lkm', [model.hakus.length])}}">

            <div class="container-fluid">

                <div class="row-fluid">
                    <div class="span4">
                        <div class="btn" ng-click="doCreateNew()"><span tt="haku.list.luoUusiHaku">Luo uusi haku</span></div>
                        <div class="btn" ng-click="doDelete()"><span tt="haku.list.poista">Poista</span></div>
                    </div>
                </div>

                <div class="row-fluid">
                    <div class="span12">
                        <table ng-hide="model.hakus == 0">
                            <tr>
                                <th><span tt="haku.list.nimi">Nimi</span></th>
                                <th><span tt="haku.list.hakutyyppi">Hakutyyppi</span></th>
                                <th><span tt="haku.list.hakukausi">Hakukausi</span></th>
                                <th><span tt="haku.list.koulutuksenAlkamiskausi">Koulutuksen alkamiskausi</span></th>
                                <th><span tt="haku.list.haunKohdejoukko">Haun kohdejoukkoX</span></th>
                                <th><span tt="haku.list.muokkaa">Muokkaa</span></th>
                                <th><span tt="haku.list.tarkastele">Tarkastele</span></th>
                            </tr>

                            <tr ng-repeat="haku in model.hakus">
                                <td>{{haku.nimi}}</td>
                                <td><koodi uri="haku.hakutyyppiUri"/></td>
                            <td><koodi uri="haku.hakukausiUri"/> {{haku.hakukausiVuosi}}</td>
                            <td><koodi uri="haku.koulutuksenAlkamiskausiUri"/> {{haku.koulutuksenAlkamisVuosi}} </td>
                            <td><koodi uri="haku.kohdejoukkoUri"/></td>
                            <td><a href="#/haku/{{ haku.oid}}/edit"><span tt="haku.list.edit"/></a></td>
                            <td><a href="#/haku/{{ haku.oid}}"><span tt="haku.list.review"/></a></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </tab>
    </tabset>
</div>
