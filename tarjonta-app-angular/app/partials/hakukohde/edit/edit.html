<div id="editHakukohde" ng-controller="HakukohdeEditController">

    <controls-model
        model="formControls"
        tt-create="hakukohde.edit.header.title"
        title="model.koulutusohjelma.tekstis"
        dto="model.hakukohde">
                
        <controls-button tt="koulutus.edit.takaisin" action="model.takaisin()"></controls-button>
        <controls-button tt="koulutus.edit.tallenna.luonnos" action="model.saveLuonnos()" primary="true" disabled="!model.canSaveHakukohde()"></controls-button>
        <controls-button tt="koulutus.edit.tallenna.valmis" action="model.saveValmis()" primary="true" disabled="!model.canSaveHakukohde()"></controls-button>
        <controls-button icon="arrow-right" tt="koulutus.edit.tallenna.jatka" action="model.tarkastele()" disabled="!model.canSaveHakukohde()"></controls-button>
        
        <!-- TODO on koulutuksessa, pitäiskö olla hakukohteessakin? 
        <controls-button tt="koulutus.edit.tallenna.jatka" action="goToReview($event)" disabled="koulutusForm.$invalid"></controls-button>
         -->
        <!-- TODO uutta luotaessa vaihtoehtoinen teksti "olet luomassa... " tjsp. -->
        <controls-notify type="message" tt="getKoulutustenNimetKey()" tp="[ getKoulutustenNimet() ]"></controls-notify>
        
        <controls-notify type="success" tt="'tarjonta.tallennus.ok'" show="model.showSuccess"></controls-notify>
        <controls-notify type="error" tt="'tarjonta.tallennus.virhe'" show="model.showError"></controls-notify>

        <controls-notify ng-repeat="e in model.validationmsgs" type="error-detail" tt="e" show="uiModel.showError"></controls-notify>
         
    </controls-model>

    <display-controls model="formControls" display="header"></display-controls>

    <tabset>
        <tab heading="{{t('kk.hakukohde.perustiedot')}}">
        	<form name="editHakukohdeForm">
	            <div data-ng-include="'partials/hakukohde/edit/editPerustiedot.html'"></div>
			</form>
        </tab>
        <tab disabled="model.hakukohdeTabsDisabled"  heading="{{t('kk.hakukohde.valintakokeet')}}">
            <div data-ng-include="'partials/hakukohde/edit/valintakokeetList.html'" data-ng-controller="ValintakokeetController"></div>
        </tab>
        <tab disabled="model.hakukohdeTabsDisabled" heading="{{t('kk.hakukohde.liitteet')}}">
            <div data-ng-include="'partials/hakukohde/edit/liitteetList.html'" data-ng-controller="LiitteetListController"></div>
        </tab>
        <tab disabled="model.hakukohdeTabsDisabled"  heading="{{t('kk.hakukohde.valintaperustekuvaus')}}">
            <div data-ng-include="'partials/hakukohde/edit/valintaperusteKuvaukset.html'" data-ng-controller="HakukohdeEditController"></div>
        </tab>

    </tabset>

    <display-controls model="formControls" display="footer"></display-controls>

    <!-- 
  <div ng-click="model.collapse.model= !model.collapse.model">
        <div class="collapseHeader" ng-class="{isOpen : !model.collapse.model}">Sivun data / malli:</div>
    </div>
    <div ng-if="!model.collapse.model">
    <div collapse="model.collapse.model">
        <pre>
            {{ model | json }}
        </pre>
    </div>
 </div>
     -->
     
</div>
