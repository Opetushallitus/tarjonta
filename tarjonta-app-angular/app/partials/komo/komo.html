<div ng-controller="KomoController">
    <controls-model
        model="controlModel.formControls"
        tt-create="koulutus.edit.header.title"
        title="model.koulutusohjelma.tekstis"
        dto="controlModel.formStatus">

        <controls-button tt-key="komo.edit.tallenna" action="update()" disabled="!canUpdate()" primary="true"></controls-button>
        <controls-button tt-key="komo.edit.kopioi" action="create()"  disabled="!canCreate()" primary="true"></controls-button>

        <controls-notify type="success" tt-expr="'tarjonta.tallennus.ok'" show="ctrl.showSuccess"></controls-notify>
        <controls-notify type="error" tt-expr="'tarjonta.tallennus.virhe'" show="ctrl.showError"></controls-notify>
        <controls-notify type="error-detail" ng-repeat="e in ctrl.validationmsgs" tt-expr="e" show="ctrl.showError"></controls-notify>
    </controls-model>

    <display-controls model="controlModel.formControls" display="header"></display-controls>

    <form name="komoForm">
        <div ng-include="'partials/komo/form.html'"></div>
    </form>

    <display-controls model="controlModel.formControls" display="footer"></display-controls>
    <!--pre>
         {{ctrl.result| json}}
    </pre-->
</div>