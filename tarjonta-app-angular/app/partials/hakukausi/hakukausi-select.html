<div id="editHaku" ng-controller="HakukausiController">



        <controls-model
            model="model.formControls"
            tt-create="hakukausi.create.header.title"
            tt-edit="hakukausi.edit.header.title"
            title="hakukausi.tekstis"
            dto="model.dto">

            <controls-button icon="arrow-left" tt-key="hakukausi.edit.takaisin" action="goBack($event)"></controls-button>

            <!-- TODO muokatessa vaihtoehtoinen teksti "olet muokkaamassa... " tjsp. -->
            <controls-notify type="message" tt-expr="'hakukausi.edit.header'"></controls-notify>

            <controls-notify type="success" tt-expr="'tarjonta.tallennus.ok'" show="model.showSuccess"></controls-notify>
            <controls-notify type="error" tt-expr="'tarjonta.tallennus.virhe'" show="model.showError"></controls-notify>

            <controls-notify type="error-detail" tt-expr="'tarjonta.tallennus.virhe.invalid'" show="model.showError && hakuForm.$invalid"></controls-notify>
            <controls-notify ng-repeat="e in model.validationmsgs" type="error-detail" tt-expr="e.errorMessageKey" tt-params="e.errorMessageParameters" show="model.showError"></controls-notify>

        </controls-model>

        <display-controls model="model.formControls" display="header"></display-controls>

<form name="hakukausiForm">

 <table class="tarjontaForm">
	<tr t-sub-title t-use-default-tt="Hakukauden valinta"
		t-use-tt-key="hakukausi.edit.hakukaudenvalinta"/>
	<tr>
		<th tt="hakukausi.edit.kausijavuosi">Hakukausi ja -vuosi</th>
		<td><div koodistocombo onchangecallback="kausiChanged" prompt="t('hakukausi.kausi.kaikki')"
				koodistouri="'kausi'" koodiuri="kausivuosi.kausi" version="false"></div>
			<select ng-change="vuosiChanged()" ng-model="kausivuosi.vuosi" ng-options="v for v in vuodet">
				<option value="" tt="hakukausi.edit.caption.vuosi">Valitse vuosi</option>
		</select></td>
		<td></td>
	</tr>
	</table>
</form>		

        <display-controls model="model.formControls" display="footer"></display-controls>


</div>
